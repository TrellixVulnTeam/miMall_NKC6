{"remainingRequest":"/home/manhuax/xmh/2021/Vue全家桶高访小米商城/my code/MiMall-xmh/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/manhuax/xmh/2021/Vue全家桶高访小米商城/my code/MiMall-xmh/src/pages/orderList.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/manhuax/xmh/2021/Vue全家桶高访小米商城/my code/MiMall-xmh/src/pages/orderList.vue","mtime":1632385005012},{"path":"/home/manhuax/xmh/2021/Vue全家桶高访小米商城/my code/MiMall-xmh/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/manhuax/xmh/2021/Vue全家桶高访小米商城/my code/MiMall-xmh/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/manhuax/xmh/2021/Vue全家桶高访小米商城/my code/MiMall-xmh/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/manhuax/xmh/2021/Vue全家桶高访小米商城/my code/MiMall-xmh/node_modules/sass-loader/lib/loader.js","mtime":1631756461819},{"path":"/home/manhuax/xmh/2021/Vue全家桶高访小米商城/my code/MiMall-xmh/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/manhuax/xmh/2021/Vue全家桶高访小米商城/my code/MiMall-xmh/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIi4vLi4vYXNzZXRzL3Njc3MvY29uZmlnLnNjc3MiOwpAaW1wb3J0ICIuLy4uL2Fzc2V0cy9zY3NzL21peGluLnNjc3MiOwoub3JkZXItbGlzdCB7CiAgLndyYXBwZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9ySjsKICAgIHBhZGRpbmctdG9wOiAzM3B4OwogICAgcGFkZGluZy1ib3R0b206IDExMHB4OwogICAgLm9yZGVyLWJveCB7CiAgICAgIC5vcmRlciB7CiAgICAgICAgQGluY2x1ZGUgYm9yZGVyKCk7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yRzsKICAgICAgICBtYXJnaW4tYm90dG9tOiAzMXB4OwogICAgICAgICY6bGFzdC1jaGlsZCB7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwOwogICAgICAgIH0KICAgICAgICAub3JkZXItdGl0bGUgewogICAgICAgICAgQGluY2x1ZGUgaGVpZ2h0KDc0cHgpOwogICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9ySzsKICAgICAgICAgIHBhZGRpbmc6IDAgNDNweDsKICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgIGNvbG9yOiAkY29sb3JDOwogICAgICAgICAgLml0ZW0taW5mbyB7CiAgICAgICAgICAgIHNwYW4gewogICAgICAgICAgICAgIG1hcmdpbjogMCA5cHg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIC5tb25leSB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjZweDsKICAgICAgICAgICAgY29sb3I6ICRjb2xvckI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC5vcmRlci1jb250ZW50IHsKICAgICAgICAgIHBhZGRpbmc6IDAgNDNweDsKICAgICAgICAgIC5nb29kLWJveCB7CiAgICAgICAgICAgIHdpZHRoOiA4OCU7CiAgICAgICAgICAgIC5nb29kLWxpc3QgewogICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICBoZWlnaHQ6IDE0NXB4OwogICAgICAgICAgICAgIC5nb29kLWltZyB7CiAgICAgICAgICAgICAgICB3aWR0aDogMTEycHg7CiAgICAgICAgICAgICAgICBpbWcgewogICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLmdvb2QtbmFtZSB7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDIwcHg7CiAgICAgICAgICAgICAgICBjb2xvcjogJGNvbG9yQjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIC5nb29kLXN0YXRlIHsKICAgICAgICAgICAgQGluY2x1ZGUgaGVpZ2h0KDE0NXB4KTsKICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4OwogICAgICAgICAgICBjb2xvcjogJGNvbG9yQTsKICAgICAgICAgICAgYSB7CiAgICAgICAgICAgICAgY29sb3I6ICRjb2xvckE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgLnBhZ2luYXRpb24gewogICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICB9CiAgICAgIC5lbC1wYWdpbmF0aW9uLmlzLWJhY2tncm91bmQgLmVsLXBhZ2VyIGxpOm5vdCguZGlzYWJsZWQpLmFjdGl2ZSB7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNjYwMDsKICAgICAgfQogICAgICAuZWwtYnV0dG9uLS1wcmltYXJ5IHsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY2NjAwOwogICAgICAgIGJvcmRlci1jb2xvcjogI2ZmNjYwMDsKICAgICAgfQogICAgICAubG9hZC1tb3JlLAogICAgICAuc2Nyb2xsLW1vcmUgewogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["orderList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderList.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"order-list\">\n    <order-header title=\"订单列表\">\n      <template v-slot:tip>\n        <span>请谨防钓鱼链接或诈骗电话，了解更多></span>\n      </template>\n    </order-header>\n    <div class=\"wrapper\">\n      <div class=\"container\">\n        <div class=\"order-box\">\n          <loading v-if=\"loading\"></loading>\n          <div class=\"order\" v-for=\"(order, index) in list\" :key=\"index\">\n            <div class=\"order-title\">\n              <div class=\"item-info fl\">\n                {{ order.createTime }}\n                <span>|</span>\n                {{ order.receiverName }}\n                <span>|</span>\n                订单号：{{ order.orderNo }}\n                <span>|</span>\n                {{ order.paymentTypeDesc }}\n              </div>\n              <div class=\"item-money fr\">\n                <span>应付金额：</span>\n                <span class=\"money\">{{ order.payment }}</span>\n                <span>元</span>\n              </div>\n            </div>\n            <div class=\"order-content clearfix\">\n              <div class=\"good-box fl\">\n                <div\n                  class=\"good-list\"\n                  v-for=\"(item, i) in order.orderItemVoList\"\n                  :key=\"i\"\n                >\n                  <div class=\"good-img\">\n                    <img v-lazy=\"item.productImage\" alt=\"\" />\n                  </div>\n                  <div class=\"good-name\">\n                    <div class=\"p-name\">{{ item.productName }}</div>\n                    <div class=\"p-money\">\n                      {{ item.totalPrice + \"X\" + item.quantity }}元\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"good-state fr\" v-if=\"order.status == 20\">\n                <a href=\"javascript:;\">{{ order.statusDesc }}</a>\n              </div>\n              <div class=\"good-state fr\" v-else>\n                <a href=\"javascript:;\" @click=\"goPay(order.orderNo)\">{{\n                  order.statusDesc\n                }}</a>\n              </div>\n            </div>\n          </div>\n          <el-pagination\n            v-if=\"true\"\n            class=\"pagination\"\n            background\n            layout=\"prev, pager, next\"\n            :pageSize=\"pageSize\"\n            :total=\"total\"\n            @current-change=\"handleChange\"\n          >\n          </el-pagination>\n          <div class=\"load-more\" v-if=\"false\"><!--  v-if=\"showNextPage\" -->\n            <el-button type=\"primary\" :loading=\"loading\" @click=\"loadMore\"\n              >加载更多</el-button\n            >\n          </div>\n          <div\n            class=\"scroll-more\"\n            v-infinite-scroll=\"scrollMore\"\n            infinite-scroll-disabled=\"true\"\n            infinite-scroll-distance=\"410\"\n            v-if=\"false\" \n          ><!--  infinite-scroll-disabled=\"busy\" -->\n            <img\n              src=\"/imgs/loading-svg/loading-spinning-bubbles.svg\"\n              alt=\"\"\n              v-show=\"loading\"\n            />\n          </div>\n          <no-data v-if=\"!loading && list.length == 0\"></no-data>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport OrderHeader from \"./../components/OrderHeader\";\nimport Loading from \"./../components/Loading\";\nimport NoData from \"./../components/NoData\";\nimport { Pagination, Button } from \"element-ui\";\nimport infiniteScroll from 'vue-infinite-scroll';\n\nexport default {\n  name: \"order-list\",\n  components: {\n    OrderHeader,\n    Loading,\n    NoData,\n    [Pagination.name]: Pagination,//动态el-pagination组件\n    [Button.name]: Button,//动态el-button组件\n  },\n  directives: {\n    infiniteScroll//在directives里面引入指令\n  },\n  data() {\n    return {\n      loading: false,\n      list: [],\n      pageSize: 10,\n      pageNum: 1,\n      total: 0,\n      showNextPage: true, //加载更多：是否显示按钮\n      busy: true, //滚动加载，是否触发\n    };\n  },\n  mounted() {\n    this.getOrderList();\n  },\n  methods: {\n    getOrderList() {\n      this.loading = true;\n      this.busy = true;\n      this.axios\n        .get(\"/orders\", {\n          //get要用到params，post不需要\n          params: {\n            pageSize: 10,\n            pageNum: this.pageNum,\n          },\n        })\n        .then((res) => {\n          this.loading = false;\n          this.list = this.list.concat(res.list);// this.list.concat()数据累加,+=list\n          this.total = res.total;\n          this.showNextPage = res.hasNextPage;\n          this.busy = false;\n        })\n        .catch(() => {\n          this.loading = false;\n        });\n    },\n    goPay(orderNo) {\n      // 三种路由跳转方式\n      // this.$router.push('/order/pay')\n      /*this.$router.push({\n          name:'order-pay',\n          query:{\n            orderNo\n          }\n        })*/\n      this.$router.push({\n        path: \"/order/pay\",\n        query: {\n          orderNo,\n        },\n      });\n    },\n    // 第一种方法：分页器\n    handleChange(pageNum) {\n      this.pageNum = pageNum;\n      this.getOrderList();\n    },\n    // 第二种方法：加载更多按钮\n    loadMore() {\n      this.pageNum++;\n      this.getOrderList();\n    },\n    // 第三种方法：滚动加载，通过npm插件vue-infinite-scroll实现\n    scrollMore(){\n      this.busy = true;\n      setTimeout(()=>{\n        this.pageNum++;\n        this.getList();\n      },500);\n    },\n    // 专门给scrollMore使用\n    getList(){\n      this.loading = true;\n      this.axios.get('/orders',{\n        params:{\n          pageSize:10,\n          pageNum:this.pageNum\n        }\n      }).then((res)=>{\n        this.list = this.list.concat(res.list);\n        this.loading = false;\n        if(res.hasNextPage){\n          this.busy=false;\n        }else{\n          this.busy=true;\n        }\n      });\n    },\n  }\n};\n</script>\n<style lang=\"scss\">\n@import \"./../assets/scss/config.scss\";\n@import \"./../assets/scss/mixin.scss\";\n.order-list {\n  .wrapper {\n    background-color: $colorJ;\n    padding-top: 33px;\n    padding-bottom: 110px;\n    .order-box {\n      .order {\n        @include border();\n        background-color: $colorG;\n        margin-bottom: 31px;\n        &:last-child {\n          margin-bottom: 0;\n        }\n        .order-title {\n          @include height(74px);\n          background-color: $colorK;\n          padding: 0 43px;\n          font-size: 16px;\n          color: $colorC;\n          .item-info {\n            span {\n              margin: 0 9px;\n            }\n          }\n          .money {\n            font-size: 26px;\n            color: $colorB;\n          }\n        }\n        .order-content {\n          padding: 0 43px;\n          .good-box {\n            width: 88%;\n            .good-list {\n              display: flex;\n              align-items: center;\n              height: 145px;\n              .good-img {\n                width: 112px;\n                img {\n                  width: 100%;\n                }\n              }\n              .good-name {\n                font-size: 20px;\n                color: $colorB;\n              }\n            }\n          }\n          .good-state {\n            @include height(145px);\n            font-size: 20px;\n            color: $colorA;\n            a {\n              color: $colorA;\n            }\n          }\n        }\n      }\n      .pagination {\n        text-align: right;\n      }\n      .el-pagination.is-background .el-pager li:not(.disabled).active {\n        background-color: #ff6600;\n      }\n      .el-button--primary {\n        background-color: #ff6600;\n        border-color: #ff6600;\n      }\n      .load-more,\n      .scroll-more {\n        text-align: center;\n      }\n    }\n  }\n}\n</style>\n"]}]}